{% import "_macros.html.twig" as m %}

{% set id = random(1000) %}

<div class="accordion-group">
    <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#subb" href="#c{{ id }}">
            {{ m.array_key(array_key) }}
            <span class="label label-success">&nbsp;</span>
            <span class="">{% block type %}{{ var.type }} ({{ var.length }}){% endblock %}</span>

        </a>
    </div>
    <div id="c{{ id }}" class="accordion-body collapse {% if var.level == 1%}in{% endif %}">
        <div class="accordion-inner">
            {% for key,var in var.value %}

                {{ render_type(var)|raw }}

            {% endfor %}
        </div>
    </div>

</div>

{#

{% spaceless %}
    {% set id = random(1000) %}
    <label for="tree_array_{{ id }}">
        {% if array_key is not empty %}
            <span class="key">[{{ array_key }}]:</span>
        {% endif %}

        <span class="switcher">array({{ var.length }})</span>
    </label>
    <input type="checkbox" id="tree_array_{{ id }}">
    <ol>
        {% for key,var in var.value %}
            <li>
                {{ var.render(key)|raw }}
            </li>
        {% endfor %}
    </ol>
{% endspaceless %}

#}